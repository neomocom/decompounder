plugins {
    id 'maven-publish'
    id 'com.github.ben-manes.versions' version '0.27.0'
    id 'com.google.cloud.artifactregistry.gradle-plugin' version '2.2.0'
}

apply plugin: 'java'

javadoc.failOnError = false

sourceCompatibility = 11
targetCompatibility = 11

version = "1.2.2"
group = "com.neomo"

repositories {
    mavenLocal()
    mavenCentral()
}

dependencies {
    testImplementation "org.junit.jupiter:junit-jupiter-api:$junitVersion"
    testRuntimeOnly "org.junit.jupiter:junit-jupiter-engine:$junitVersion"
    testImplementation("org.junit.jupiter:junit-jupiter-params:$junitVersion")
    testImplementation "org.slf4j:slf4j-jdk14:$slf4jVersion"
    testImplementation "org.apache.lucene:lucene-test-framework:$luceneVersion"

    implementation "org.slf4j:slf4j-api:$slf4jVersion"
    implementation "org.apache.lucene:lucene-core:$luceneVersion"
    implementation "org.apache.lucene:lucene-analysis-common:$luceneVersion"
}

sourceSets.test {
    resources.srcDirs = ["src/test/resources"]
}

publishing {
    publications {
        maven(MavenPublication)  {
            from components.java
        }
    }
    repositories {
        maven {
            url = "artifactregistry://europe-maven.pkg.dev/contentsurfacingservice/public"
        }
    }
}

